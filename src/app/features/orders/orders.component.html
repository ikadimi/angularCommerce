<div class="order-history-container" *ngIf="!isLoading; else loadingTemplate">
    <h2 class="order-history-title">Order History</h2>
  
    <div *ngIf="orders.length === 0" class="no-orders-message">
      <p>You have no orders yet.</p>
    </div>
  
    <div *ngIf="orders.length > 0" class="order-list">
      <div *ngFor="let order of orders" class="order-card">
        <div class="order-header">
          <h3 class="order-id">Order ID: {{ order._id }}</h3>
          <p class="order-status">{{ order.status }}</p>
        </div>
        <div class="order-details">
          <p><strong>Total Price:</strong> \${{ order.totalPrice }}</p>
          <p><strong>Delivery Address:</strong> {{ order.deliveryAddress.address }}, {{ order.deliveryAddress.city }}</p>
        </div>
        <div class="order-items">
          <h4>Items:</h4>
          <ul>
            <li *ngFor="let item of order.items">
              {{ item.name }} ({{ item.quantity }}) - \${{ item.price }}
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
  
  <ng-template #loadingTemplate>
    <div class="loading-container">
      <div class="loading-spinner"></div>
      <p>Loading order history...</p>
    </div>
  </ng-template>
  
  <div *ngIf="errorMessage" class="error-message">
    <p>{{ errorMessage }}</p>
  </div>
  